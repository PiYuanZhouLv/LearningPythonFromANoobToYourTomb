<aside>
<p>参与编写：Pi圆周率</p>
<p>开始编写时间：2023年1月18日</p>
<p>编写完成时间：2023年1月18日</p>
<p>最后一次修改：2023年1月18日</p>
</aside>

在很多时候，我们会听到“兼容性”这个词。兼容在编程中极为重要，
因此我们有必要对各个版本的特性进行了解

## 0x1 2.X --> 3.X

在之前的文章中，我们简单的提到了Python3不会向下兼容Python2，
下面是Python3.X版本的主要改动：

|                              说明                               |        Python2        |        Python3         |
|:-------------------------------------------------------------:|:---------------------:|:----------------------:|
|            在Python2中，print是关键字；在Python3中，print是函数             | `print "Hello World"` | `print("Hello World")` |
|              Python2中，/（除法）返回整数；Python3中，/ 返回浮点数              |      `3/2 == 1`       |      `3/2 == 1.5`      |
| Python2中，有range和rangex函数，常用后一个；Python3删除了第一个函数，将第二个函数更名为range |     `rangex(...)`     |      `range(...)`      |

除此之外，还有很多。

在Python官方呼吁大家从Python2转到Python3时，
还有一个用来辅助转换的工具——`lib2to3`，
这个工具应该在`Python安装地址/Lib/lib2to3`中。
其中的`fixes`文件夹下的各个程序的注释里详细的写着替换方式
（也就是Python2与Python3的不同之处）。
感兴趣的同学可以去翻翻看。

注：Python的安装会在下一节课讲。

## 0x2 3.5

1. 添加协程关键字：async、await
2. 依据PEP添加矩阵乘法符号@
    （注：原生Python没有内置矩阵类型，需要配合第三方库使用）
3. ___支持使用*、**对列表、字典等拆解___
4. bytes、bytearray类型支持%运算符
5. ___增加-->声明函数返回类型___
6. 添加os.scandir函数使遍历文件夹更快
7. math、cmath库增加isclose函数来进行约等于判断
8. 增加typing库来支持类型提示
9. 增加zipapp来增强Python ZIP Application的支持

P.S. 你或许看到了不少陌生词汇，不要怕，先跳过，以后你会熟悉它们的

另注：包括接下来的内容，我将用 ___加粗加斜___ 的字体表示重要的更新内容
## 0x3 3.6

1. ___增加了f-string这一特性___
2. ___增加类型声明这一特性___
3. ___可以在数字中加入下划线来增强可读性；___
    同样的，在字符串的format方法加入下划线可以输出含有下划线的数字
4. 生成器和列表推导式支持async、await
5. 类新增了__init_subclass__这一魔术方法
6. 将Windows上使用的默认编码改为UTF-8
7. 增加了secrets模块来生成真正随机的随机数

## 0x4 3.7

1. 改进类型提示功能（3.10之前需从__future__导入）
2. ___增加breakpoint函数来调用pdb___
3. 增加了纳秒级别时间函数
4. 增加“废弃的特性”警告
5. ___增加dataclass装饰器来使用默认的魔术方法___

## 0x5 3.8

1. ___增加海象运算符:=___
2. ___支持使用 /（斜杠）来定义“仅位参数”___
3. ___f-string支持使用“=”将括号内内容一并输出___
4. 在re字符串中可以使用\N{...}转义符
5. 在函数中支持返回*解包后的内容
6. 修复了`{input("k:"): input("v") for i in range(2)}`先询问v再询问k的问题
7. `[(1, 2) (3, 4)]`不再发出Not Callable警告，而是SyntaxWarning
8. 增加了importlib.metadata库来查询第三方库
9. 可以对dict类型使用reversed函数，返回一个DictReverseKeyIterator

## 0x6 3.9

1. ___支持使用 |（管道）符号来合并字典___
2. 字符类型增加了removeprefix、和removesuffix来移除前/后缀
3. 新增zoneinfo模块来处理时区

## 0x7 3.10

1. 支持使用小括号来同时使用多个上下文管理器
2. 更好的错误提示
3. ___增加了match-case语句___
4. 增加未指明文件编码警告
5. 增加 |（管道）符号来声明支持多种种类

## 0x8 3.11

1. 变快了10%~60%
2. 错误提示更加清晰，从精确到行升级为精确到表达式甚至运算符
3. 增加了异常组这一特性
4. 支持将TypedDict中的变量声明为必须或非必须
5. 添加了Self类型
6. 新增@typing.dataclass_transform()来告诉编译器这里有魔术方法
7. annotations特性不再需要从__future__中导入
8. for语句中支持使用*运算符
9. 新增tomllib模块来支持.toml文件读取

## 第一章结语

第一章到此结束了~

`![自行脑补](完结撒花~~~.png)`

在这一章，我们了解了Python的昨天、今天和明天，是背景的阐述。
真正的知识马上就要来了~
